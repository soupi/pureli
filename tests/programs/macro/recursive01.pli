(module main)

(defmacro cond
  [() (error "*** error: cond - non-exhuastive patterns")]
  [(clause1 &rest)
     (if (eval (car clause1))
         (eval (car (cdr clause1)))
         (cond &rest))])

(define main
  (do!
    [print! x]))

(define x
  (cond '(#f (error "error"))
        '((= 1 2) 2)
        '(#t 3)))
